<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= title %> - Baitul Jannah School</title>
  <link rel="shortcut icon" href="/assets/img/logo.webp">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="/assets/plugins/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    <div class="main-wrapper">
        <div class="error-box">
            <div class="error-content text-center">
                <%
                    // Safeguard undefined variables
                    const sc = typeof statusCode !== 'undefined' ? statusCode : 500;
                    const msg = typeof message !== 'undefined' ? message : 'Terjadi kesalahan';
                    const usr = typeof user !== 'undefined' ? user : null;
                %>
                <% if (sc === 404) { %>
                    <img src="/assets/img/error/error-01.svg" class="img-fluid mb-4" alt="404">
                    <h1 class="mb-3">404 - Halaman Tidak Ditemukan</h1>
                <% } else if (sc === 500) { %>
                    <img src="/assets/img/error/error-02.svg" class="img-fluid mb-4" alt="500">
                    <h1 class="mb-3">500 - Terjadi Kesalahan Server</h1>
                <% } else { %>
                    <img src="/assets/img/error/error-03.svg" class="img-fluid mb-4" alt="Error">
                    <h1 class="mb-3"><%= sc || 'Error' %></h1>
                <% } %>
                <p class="mb-4"><%= msg %></p>
                <a href="/" class="btn btn-primary">Kembali ke Beranda</a>
                <% if (usr) { %>
                    <% if (usr.role === 'admin') { %>
                        <a href="/admin/dashboard" class="btn btn-secondary ms-2">Dashboard Admin</a>
                    <% } else if (usr.role === 'teacher') { %>
                        <a href="/teacher/dashboard" class="btn btn-secondary ms-2">Dashboard Guru</a>
                    <% } else if (usr.role === 'student') { %>
                        <a href="/student/dashboard" class="btn btn-secondary ms-2">Dashboard Siswa</a>
                    <% } %>
                <% } %>
            </div>
        </div>
    </div>
    <script src="/assets/js/jquery-3.7.1.min.js"></script>
    <script src="/assets/js/bootstrap.bundle.min.js"></script>
</body>
</html>
